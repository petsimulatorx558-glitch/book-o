-- Load the script
loadstring(game:HttpGet("https://raw.githubusercontent.com/s-0-a-b/nexus/main/loadstring"))()

-- Function to enable ESP
local function enableESP()
    for _, player in pairs(game.Players:GetPlayers()) do
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local esp = Instance.new("BoxHandleAdornment")
            esp.Name = "ESP"
            esp.Adornee = player.Character.HumanoidRootPart
            esp.AlwaysOnTop = true
            esp.ZIndex = 0
            esp.Size = Vector3.new(4, 4, 4)
            esp.Color3 = Color3.new(1, 0, 0) -- Red color for murderer
            esp.Parent = player.Character.HumanoidRootPart
        end
    end
end

-- Function to disable ESP
local function disableESP()
    for _, player in pairs(game.Players:GetPlayers()) do
        if player.Character and player.Character:FindFirstChild("ESP") then
            player.Character.ESP:Destroy()
        end
    end
end

-- Function to enable aimbot
local function enableAimbot()
    local player = game.Players.LocalPlayer
    local mouse = player:GetMouse()
    local camera = workspace.CurrentCamera

    mouse.Button1Down:Connect(function()
        local target = nil
        local shortestDistance = math.huge

        for _, player in pairs(game.Players:GetPlayers()) do
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local distance = (camera.CFrame.p - player.Character.HumanoidRootPart.Position).magnitude
                if distance < shortestDistance then
                    shortestDistance = distance
                    target = player.Character.HumanoidRootPart
                end
            end
        end

        if target then
            mouse.Hit = target.Position
        end
    end)
end

-- Function to enable auto-farm
local function enableAutoFarm()
    while true do
        for _, player in pairs(game.Players:GetPlayers()) do
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local distance = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).magnitude
                if distance < 20 then
                    game.Players.LocalPlayer.Character.Humanoid:MoveTo(player.Character.HumanoidRootPart.Position)
                end
            end
        end
        wait(1)
    end
end

-- Create a simple GUI for toggling features
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game:GetService("CoreGui")

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 200, 0, 150)
mainFrame.Position = UDim2.new(0.5, -100, 0.5, -75)
mainFrame.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
mainFrame.Parent = screenGui

local espButton = Instance.new("TextButton")
espButton.Size = UDim2.new(0, 180, 0, 30)
espButton.Position = UDim2.new(0.5, -90, 0, 10)
espButton.Text = "Toggle ESP"
espButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
espButton.TextColor3 = Color3.new(1, 1, 1)
espButton.Parent = mainFrame

local aimbotButton = Instance.new("TextButton")
aimbotButton.Size = UDim2.new(0, 180, 0, 30)
aimbotButton.Position = UDim2.new(0.5, -90, 0, 50)
aimbotButton.Text = "Toggle Aimbot"
aimbotButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
aimbotButton.TextColor3 = Color3.new(1, 1, 1)
aimbotButton.Parent = mainFrame

local autoFarmButton = Instance.new("TextButton")
autoFarmButton.Size = UDim2.new(0, 180, 0, 30)
autoFarmButton.Position = UDim2.new(0.5, -90, 0, 90)
autoFarmButton.Text = "Toggle Auto Farm"
autoFarmButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
autoFarmButton.TextColor3 = Color3.new(1, 1, 1)
autoFarmButton.Parent = mainFrame

-- Connect button click events
espButton.MouseButton1Click:Connect(function()
    if espButton.Text == "Toggle ESP" then
        espButton.Text = "ESP Enabled"
        enableESP()
    else
        espButton.Text = "Toggle ESP"
        disableESP()
    end
end)

aimbotButton.MouseButton1Click:Connect(function()
    if aimbotButton.Text == "Toggle Aimbot" then
        aimbotButton.Text = "Aimbot Enabled"
        enableAimbot()
    else
        aimbotButton.Text = "Toggle Aimbot"
    end
end)

autoFarmButton.MouseButton1Click:Connect(function()
    if autoFarmButton.Text == "Toggle Auto Farm" then
        autoFarmButton.Text = "Auto Farm Enabled"
        enableAutoFarm()
    else
        autoFarmButton.Text = "Toggle Auto Farm"
    end
end)
